# Fetch Azure AD service principals (enterprise apps)
data "azuread_service_principal" "enterprise_apps" {
  for_each = { for id in local.app_ids_list : id => id if length(id) > 0 && id != "null" }
  object_id = each.value
}